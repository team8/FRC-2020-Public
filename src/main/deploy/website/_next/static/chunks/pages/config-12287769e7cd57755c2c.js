(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{5923:function(t,e,n){"use strict";var r=n(4942),o=n(5861),i=n(7757),c=n.n(i);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(){return(u=(0,o.Z)(c().mark((function t(e){var n,r,o,i,s,u,f=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.timeout,o=void 0===r?16e3:r,i=new AbortController,s=setTimeout((function(){return i.abort()}),o),t.next=6,fetch(e,a(a({},n),{},{signal:i.signal}));case 6:return u=t.sent,clearTimeout(s),t.abrupt("return",u);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.Z=function(t){return u.apply(this,arguments)}},7304:function(t,e,n){"use strict";var r=n(5671),o=n(3144),i=n(9340),c=n(6215),s=n(1120),a=n(7294),u=n(5893);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,s.Z)(t);if(e){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var l=function(t){(0,i.Z)(n,t);var e=f(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){return(0,u.jsx)("nav",{class:"bg-gray-800",children:(0,u.jsx)("div",{children:(0,u.jsx)("div",{class:"relative flex items-center justify-between h-16",children:(0,u.jsxs)("div",{class:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:[(0,u.jsxs)("div",{class:"flex-shrink-0 flex items-center",children:[(0,u.jsx)("img",{class:"h-10 w-auto lg:auto mx-auto rounded-l max-w-md flex-grow md:flex-1 w-full transition duration-500 ease-in-out transform hover:-translate-y-1 shadow-2xl",src:"palyrobotics.png",alt:"Icon"}),(0,u.jsx)("a",{href:"http://palyrobotics.com/",class:"text-white p-1 font-bold",children:" Paly Robotics"})]}),(0,u.jsx)("div",{class:"hidden sm:block p-auto",children:(0,u.jsxs)("div",{class:"flex space-x-4",children:[(0,u.jsx)("a",{href:"/",class:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Home"}),(0,u.jsx)("a",{href:"/logtab.html",class:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Logs"}),(0,u.jsx)("a",{href:"/chart.html",class:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Graph"}),(0,u.jsx)("a",{href:"/config.html",class:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Config"})]})})]})})})})}}]),n}(a.Component);e.Z=l},2167:function(t,e,n){"use strict";var r=n(3038);var o,i=(o=n(7294))&&o.__esModule?o:{default:o},c=n(1063),s=n(4651),a=n(7426);var u={};function f(t,e,n,r){if(t&&c.isLocalURL(e)){t.prefetch(e,n,r).catch((function(t){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:t&&t.locale;u[e+"%"+n+(o?"%"+o:"")]=!0}}},7426:function(t,e,n){"use strict";var r=n(3038);Object.defineProperty(e,"__esModule",{value:!0}),e.useIntersection=function(t){var e=t.rootMargin,n=t.disabled||!c,a=o.useRef(),u=o.useState(!1),f=r(u,2),l=f[0],h=f[1],d=o.useCallback((function(t){a.current&&(a.current(),a.current=void 0),n||l||t&&t.tagName&&(a.current=function(t,e,n){var r=function(t){var e=t.rootMargin||"",n=s.get(e);if(n)return n;var r=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var e=r.get(t.target),n=t.isIntersecting||t.intersectionRatio>0;e&&n&&e(n)}))}),t);return s.set(e,n={id:e,observer:o,elements:r}),n}(n),o=r.id,i=r.observer,c=r.elements;return c.set(t,e),i.observe(t),function(){c.delete(t),i.unobserve(t),0===c.size&&(i.disconnect(),s.delete(o))}}(t,(function(t){return t&&h(t)}),{rootMargin:e}))}),[n,e,l]);return o.useEffect((function(){if(!c&&!l){var t=i.requestIdleCallback((function(){return h(!0)}));return function(){return i.cancelIdleCallback(t)}}}),[l]),[d,l]};var o=n(7294),i=n(3447),c="undefined"!==typeof IntersectionObserver;var s=new Map},2560:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return x}});var r=n(5861),o=n(5671),i=n(3144),c=n(7326),s=n(9340),a=n(6215),u=n(1120),f=n(4942),l=n(7757),h=n.n(l),d=n(7294),g=(n(1664),n(7304)),v=n(5923),p=n(5893);function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var y=function(t){(0,s.Z)(n,t);var e=b(n);function n(t){var r;return(0,o.Z)(this,n),r=e.call(this,t),(0,f.Z)((0,c.Z)(r),"getData",(function(){r.getFromApi().then((function(t){if(t){var e=t;if(e){for(var n=0,o=Object.keys(e);n<o.length;n++)for(var i=o[n],c=0,s=Object.keys(e[i]);c<s.length;c++){var a=s[c];if(null==e[i][a])e[i][a]="null";else if("object"===typeof e[i][a])for(var u=0,f=Object.keys(e[i][a]);u<f.length;u++){var l=f[u];null==e[i][a][l]&&(e[i][a][l]="null")}}r.setState({newInfoLoaded:!0,config:JSON.parse(JSON.stringify(e)),cachedConfig:JSON.parse(JSON.stringify(e))})}}}))})),r.intervalID=null,r.state={text:null,newInfoLoaded:!1,config:{},timedOut:!1,tab:null,subtab:null},r.save=r.save.bind((0,c.Z)(r)),r.refresh=r.refresh.bind((0,c.Z)(r)),r}return(0,i.Z)(n,[{key:"getFromApi",value:function(){var t=(0,r.Z)(h().mark((function t(){var e,n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,v.Z)("http://10.0.8.2:4000");case 3:return e=t.sent,t.next=6,e.json();case 6:return e=(e=t.sent).config,n=e,t.abrupt("return",n);case 12:return t.prev=12,t.t0=t.catch(0),this.setState({timedOut:!0}),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,this,[[0,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){}},{key:"refresh",value:function(t){this.getData(),this.forceUpdate()}},{key:"save",value:function(t){for(var e=this.state.config,n={},r=0,o=Object.keys(this.state.config);r<o.length;r++)for(var i=o[r],c=0,s=Object.keys(this.state.config[i]);c<s.length;c++){var a=s[c];if(null!==this.state.config[i][a]&&"object"==typeof this.state.config[i][a])for(var u=0,f=Object.keys(this.state.config[i][a]);u<f.length;u++){var l=f[u];e[i][a][l]!=this.state.cachedConfig[i][a][l]&&(n[i].hasOwnProperty(a)||(newconfig[i][a]={}),n[i][a][l]=e[i][a][l])}else e[i][a]!=this.state.cachedConfig[i][a]&&(n.hasOwnProperty(i)||(n[i]={}),n[i][a]=e[i][a])}if(0===Object.keys(n).length)return alert("Nothing to save!"),0;this.setState({cachedConfig:JSON.parse(JSON.stringify(this.state.config))});var h={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(n)};fetch("http://10.0.8.2:4000",h).then((function(t){return t.text})).then((function(t){console.log("worked")}))}},{key:"render",value:function(){var t=this;if(this.state.error)return(0,p.jsxs)("div",{children:["Error: ",this.state.error.message]});if(this.state.timedOut)return(0,p.jsx)("div",{class:"text-4xl font-bold text-red-600 text-center",children:"Request Timed Out! Make sure you're connected to the robot wifi"});if(!1===this.state.newInfoLoaded)return(0,p.jsx)("div",{children:"Loading..."});for(var e=[],n=function(){for(var n=o[r],i=[],c=function(){var e=a[s],r=void 0;if(null!==t.state.config[n][e]&&"object"==typeof t.state.config[n][e]){r=[];for(var o=function(){var o=u[c],i=!1,s="text";"boolean"===typeof t.state.config[n][e][o]&&(i=!0,s="checkbox");var a=function(r){var c,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o,f=t.state.config;c=i?r.target.checked:r.target.value,r.target.value&&!isNaN(r.target.value)&&(c=parseFloat(c)),f[s][a][u]=c,t.setState({config:f})},f=void 0;f=i&&t.state.config[n][e][o]?(0,p.jsx)("input",{class:"text-white bg-gray-800",type:s,value:t.state.config[n][e][o],onChange:a,checked:!0}):(0,p.jsx)("input",{class:"text-white bg-gray-800",type:s,value:t.state.config[n][e][o],onChange:a}),r.push((0,p.jsxs)("div",{class:"text-center",children:[o,(0,p.jsx)("br",{}),(0,p.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold rounded text-center text-sm",onClick:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;t.getFromApi().then((function(e){var n=t.state.config;n[i][c][s]=e[i][c][s],t.setState({config:JSON.parse(JSON.stringify(n))})}))},children:"Refresh"}),(0,p.jsx)("br",{}),f]}))},c=0,u=Object.keys(t.state.config[n][e]);c<u.length;c++)o()}else{var f=!1,l="text";"boolean"===typeof t.state.config[n][e]&&(f=!0,l="checkbox");var h=function(r){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=t.state.config;o=f?r.target.checked:r.target.value,r.target.value&&!isNaN(r.target.value)&&"."!==r.target.value.charAt(r.target.value.length-1)&&(o=parseFloat(o)),s[i][c]=o,t.setState({config:s})};r=f&&t.state.config[n][e]?(0,p.jsx)("input",{class:"text-white bg-gray-800",type:l,value:t.state.config[n][e],onChange:h,checked:!0}):(0,p.jsx)("input",{class:"text-white bg-gray-800",type:l,value:t.state.config[n][e],onChange:h})}var d="text-center";t.state.subtab!==e&&(d=d.concat(" ","hidden")),i.push((0,p.jsxs)("div",{class:d,children:[e,(0,p.jsx)("br",{}),(0,p.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold rounded text-center text-sm",onClick:function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.getFromApi().then((function(e){var n=t.state.config;n[o][i]=e[o][i],t.setState({config:JSON.parse(JSON.stringify(n))})}))},children:"Refresh"}),(0,p.jsx)("br",{}),r]}))},s=0,a=Object.keys(t.state.config[n]);s<a.length;s++)c();var u="text-center bg-gray-700";t.state.tab!==n&&(u=u.concat(" ","hidden"));for(var f=[],l=function(){var e=d[h],n=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;t.setState({subtab:r})},r=(0,p.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-1 px-3 rounded text-center text-sm",onClick:n,children:e});e==t.state.subtab&&(r=(0,p.jsx)("button",{disabled:!0,class:"bg-gray-700 text-white font-bold py-1 px-3 rounded text-center text-sm",onClick:n,children:e})),f.push(r)},h=0,d=Object.keys(t.state.config[n]);h<d.length;h++)l();e.push((0,p.jsxs)("div",{class:u,children:[(0,p.jsx)("span",{class:"text-4xl",children:n}),(0,p.jsx)("br",{}),(0,p.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold rounded text-center text-base",onClick:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;t.getFromApi().then((function(e){var n=t.state.config;n[r]=e[r],t.setState({config:JSON.parse(JSON.stringify(n))})}))},children:"Refresh Group"}),(0,p.jsx)("br",{}),(0,p.jsx)("div",{class:"text-center",children:f}),i]}))},r=0,o=Object.keys(this.state.config);r<o.length;r++)n();for(var i=[],c=function(){var e=a[s],n=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;t.setState({tab:r})},r=(0,p.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-center",onClick:n,children:e});e==t.state.tab&&(r=(0,p.jsx)("button",{disabled:!0,class:"bg-gray-700 text-white font-bold py-2 px-4 rounded text-center",onClick:n,children:e})),i.push(r)},s=0,a=Object.keys(this.state.config);s<a.length;s++)c();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{class:"bg-gray-900 w-screen h-screen font-mono text-white",children:[(0,p.jsx)(g.Z,{}),(0,p.jsxs)("div",{class:"text-center bg-gray-600",children:[(0,p.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-center",value:"save",onClick:this.save,children:"save"}),(0,p.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-center",value:"refresh",onClick:this.refresh,children:"refresh all"})]}),(0,p.jsx)("div",{class:"text-center",children:i}),e]})})}}]),n}(d.Component);function x(){return(0,p.jsx)(y,{})}},838:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config",function(){return n(2560)}])},1664:function(t,e,n){n(2167)},7326:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return r}})},5861:function(t,e,n){"use strict";function r(t,e,n,r,o,i,c){try{var s=t[i](c),a=s.value}catch(u){return void n(u)}s.done?e(a):Promise.resolve(a).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var c=t.apply(e,n);function s(t){r(c,o,i,s,a,"next",t)}function a(t){r(c,o,i,s,a,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return o}})},5671:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},3144:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,{Z:function(){return o}})},1120:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,{Z:function(){return r}})},9340:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,{Z:function(){return o}})},6215:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return i}});var o=n(7326);function i(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(t)}}},function(t){t.O(0,[774,888,179],(function(){return e=838,t(t.s=e);var e}));var e=t.O();_N_E=e}]);